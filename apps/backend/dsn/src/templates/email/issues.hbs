<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="light dark">
    <meta name="supported-color-schemes" content="light dark">
    <title>事件上报通知</title>
    <style type="text/css">
        /* ------------------------------------- 
           基础样式 (Light Mode Default)
        ------------------------------------- */
        body { margin: 0; padding: 0; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; background-color: #f5f7fa; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; color: #333333; }
        table, td { border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; }
        
        .main-container { width: 100%; max-width: 800px; margin: 0 auto; background-color: #ffffff; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
        .content-padding { padding: 40px; }
        
        .header-title { font-size: 22px; font-weight: 600; color: #1a1a1a; margin: 0 0 10px 0; }
        .header-desc { font-size: 14px; color: #666666; margin: 0 0 30px 0; line-height: 1.5; }

        .list-header-row { border-bottom: 1px solid #eeeeee; }
        .section-label { font-size: 12px; color: #999999; font-weight: normal; padding-bottom: 10px; }
        
        .item-row td { padding-top: 20px; padding-bottom: 20px; border-bottom: 1px solid #f5f7fa; vertical-align: top; }
        .item-key { font-size: 14px; color: #666666; width: 120px; padding-right: 20px; }
        .item-value { font-size: 14px; color: #1a1a1a; font-weight: 500; line-height: 1.6; word-break: break-all; }
        
        .status-dot { color: #ff4d4f; font-size: 18px; line-height: 1; vertical-align: middle; margin-right: 6px; }
        .badge { display: inline-block; background-color: #ffc107; color: #1a1a1a; font-size: 11px; font-weight: bold; padding: 2px 6px; border-radius: 3px; margin-right: 5px; vertical-align: middle; text-transform: uppercase; }
        .badge-gray { background-color: #f0f0f0; color: #666666; }

        .message-box { background: #fafafa; border: 1px solid #f0f0f0; border-radius: 4px; padding: 12px; font-family: Menlo, Monaco, Consolas, monospace; font-size: 13px; color: #444444; margin-top: 8px; }

        .link-text { color: #1890ff; text-decoration: none; }
        .divider-top { margin-top: 30px; border-top: 1px dashed #eeeeee; padding-top: 20px; text-align: right; }

        /* ------------------------------------- 
           移动端适配 
        ------------------------------------- */
        @media only screen and (max-width: 600px) {
            .content-padding { padding: 20px !important; }
            .item-key { width: 80px !important; }
        }

        /* ------------------------------------- 
           暗黑模式适配 (Dark Mode)
        ------------------------------------- */
        @media (prefers-color-scheme: dark) {
            /* 全局背景变黑 */
            body, .body-bg-wrapper { background-color: #121212 !important; }
            
            /* 卡片背景变深灰 */
            .main-container { background-color: #1e1e1e !important; box-shadow: none !important; border: 1px solid #333333 !important; }
            
            /* 标题变白 */
            .header-title { color: #e0e0e0 !important; }
            
            /* 描述文字和Key变灰白 */
            .header-desc, .item-key, .section-label, .ua-text { color: #a0a0a0 !important; }
            
            /* 值文字变亮 */
            .item-value { color: #ffffff !important; }
            
            /* 分割线变暗 */
            .list-header-row, .item-row td { border-color: #333333 !important; }
            .divider-top { border-color: #333333 !important; }
            
            /* 消息盒子变深 */
            .message-box { background-color: #2c2c2c !important; border-color: #333333 !important; color: #d0d0d0 !important; }
            
            /* 标签微调 */
            .badge-gray { background-color: #333333 !important; color: #aaaaaa !important; }
            
            /* 链接颜色微调（防止在黑色背景下刺眼） */
            .link-text { color: #40a9ff !important; }
        }
    </style>
</head>

<body class="body-bg-wrapper">
    <center style="width: 100%; padding: 30px 0;" class="body-bg-wrapper">
        <table class="main-container" border="0" cellpadding="0" cellspacing="0">
            <tr>
                <td class="content-padding">
                    <h1 class="header-title">上报详情</h1>
                    <p class="header-desc">收到一条新的 <strong>{{event_type}}</strong> 事件，具体信息如下。</p>

                    <table width="100%" border="0" cellpadding="0" cellspacing="0" style="margin-bottom: 10px;">
                        <tr class="list-header-row">
                            <td class="section-label">字段名</td>
                            <td class="section-label">详情内容</td>
                        </tr>
                    </table>

                    <table width="100%" border="0" cellpadding="0" cellspacing="0">
                        
                        <tr class="item-row">
                            <td class="item-key">
                                <span class="status-dot">&bull;</span> 事件消息
                            </td>
                            <td class="item-value">
                                <div>
                                    {{#if event_type}}<span class="badge">{{event_type}}</span>{{/if}}
                                    {{#if type}}<span class="badge badge-gray">{{type}}</span>{{/if}}
                                </div>
                                <div class="message-box">
                                    {{#if message}}{{message}}{{else}}-{{/if}}
                                </div>
                            </td>
                        </tr>

                        {{#if browserInfo}}
                        
                        <tr class="item-row">
                            <td class="item-key">系统平台</td>
                            <td class="item-value">
                                {{browserInfo.platform}}
                            </td>
                        </tr>

                        <tr class="item-row">
                            <td class="item-key">语言环境</td>
                            <td class="item-value">
                                {{browserInfo.language}}
                            </td>
                        </tr>

                        <tr class="item-row">
                            <td class="item-key">触发路径</td>
                            <td class="item-value">
                                <span class="link-text">{{browserInfo.path}}</span>
                            </td>
                        </tr>

                        <tr class="item-row">
                            <td class="item-key">User Agent</td>
                            <td class="item-value ua-text" style="color: #888888; font-size: 13px;">
                                {{browserInfo.userAgent}}
                            </td>
                        </tr>
                        {{/if}}

                    </table>
                    
                    <div class="divider-top">
                         <a href="#" class="link-text" style="font-size: 13px;">前往控制台查看 &rarr;</a>
                    </div>

                </td>
            </tr>
        </table>
    </center>
</body>
</html>